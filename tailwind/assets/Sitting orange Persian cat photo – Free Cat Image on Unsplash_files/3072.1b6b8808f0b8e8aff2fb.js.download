"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3072],{53072:(e,t,s)=>{s.d(t,{J:()=>T});var r=s(65723),i=s(63316),n=s(12505),o=s(98781),a=s(87520),l=s(4055),F=s(77956),d=s(21239),c=s(10524),f=s(95780),h=s(78296),p=s(59800),b=s(59331),g=s(33428),j=s(47286),u=s(27614);let m=({notifier$:e,footerRefOption$:t})=>s=>{let r=(0,o.Fs)(s,u.Tj(([,,e])=>e),u.F()),i=(0,o.Fs)(s,u.Tj(([,,,e])=>e??2e3),u.F()),n=(0,o.Fs)(s,u.Tj(([,e])=>e.page),u.F()),a=(0,o.Fs)(u.zV([t,r,i,n]),u.nx(([e,t,s])=>(0,o.Fs)(e,d.YW((0,o.dY)(u.wg),e=>(0,o.Fs)(c.sH(e,{root:void 0!==t?t.current:null,rootMargin:c.x({top:f.Sj,right:f.Sj,bottom:f.qy(s),left:f.Sj})}),u.pb(c.uV)))))),l=(0,o.Fs)(s,u.Tj(([e])=>e),u.F());return u.h1((0,o.Fs)(u.zV([a,l]),u.pb(([e,t])=>!1===t)),e)},S=e=>t=>{let s=(0,o.Fs)(t,u.XM(e),u.dM(([,e])=>e.page),u.Or(([e])=>!1===e));return(0,o.Fs)(s,u.EY(t,(e,t)=>t),u.ZZ(([,e,t,s])=>(0,o.Fs)(t(e),j.Bb(s),g.L5(3))))},v=e=>{let t=(0,p.h6)(),s=(0,b.J)(m({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),r=(0,b.J)(S(s),[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t]);(0,h.so)(r)},x=({total:e,perPage:t})=>Math.ceil(e/t),O=e=>e.lastPageFetched>=x(e),P=({lastPageFetched:e,perPage:t})=>({page:e+1,perPage:t}),M=({feedState:e,feedItems:t,renderItems:s,renderLoadingFooter:a,disableInfiniteScroll:d,...c})=>{let[f,h]=(0,i.z)(e=>(0,o.Fs)(e,F.rT)),p=n.Kr(()=>P(e),[e]),b=n.Kr(()=>O(e),[e]);return v({...c,disableInfiniteScroll:d,feedDataFetcherParams:p,hasFetchedAllPages:b,footerRefOption$:h}),(0,r.jsxs)("div",{children:[s({items:t,total:e.total}),(0,r.jsx)("div",{"data-testid":l.n,ref:f}),!1===b&&!1===d&&(e.isLoading??!0)&&a()]})},T=({feedStateOption:e,feedItemsOption:t,renderEmpty:s,renderPlaceholder:i,renderFooter:n,disableInfiniteScroll:l,...F})=>(0,o.Fs)(d.CO(e,t),d.YW(i,([e,t])=>{let i=O(e),d=i||l||a.VP(t);return(0,r.jsxs)(r.Fragment,{children:[(0,o.Fs)(t,a.YW({onEmpty:s,onNonEmpty:t=>(0,r.jsx)(M,{...F,feedState:e,feedItems:t,disableInfiniteScroll:l})})),d&&n({isEmpty:a.VP(t),hasFetchedAllPages:i,isInfiniteScrollDisabled:l})]})}))}}]);